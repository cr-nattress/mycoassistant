Title,Body,Labels
"[Epic A] Story A1 — Landing value + sign up/login","**Goal:** Visitors understand app value and can sign up/login\n\n### Tasks\n- [ ] Build landing page (hero, sections, footer)\n- [ ] Sticky header with logo + CTAs\n- [ ] Configure auth routes\n- [ ] Analytics for CTAs\n- [ ] SEO/meta tags",epic-a,landing,auth
"[Epic A] Story A2 — Login/signup flow","**Goal:** Users can log in or sign up on mobile easily\n\n### Tasks\n- [ ] Forms with validation\n- [ ] Session guard\n- [ ] Redirect to dashboard\n- [ ] Error/success toasts",epic-a,auth
"[Epic B] Story B1 — Dashboard grow cards","**Goal:** Users see all grows as cards with filters\n\n### Tasks\n- [ ] Create GrowCard component\n- [ ] Filters: Active/Completed/Archived\n- [ ] Empty state illustration",epic-b,dashboard
"[Epic B] Story B2 — Add new grow","**Goal:** Users can add a new grow via floating CTA\n\n### Tasks\n- [ ] Floating CTA\n- [ ] Route to wizard",epic-b,dashboard
"[Epic C] Story C1 — Step-by-step grow setup","**Goal:** Guided wizard with one input per screen\n\n### Tasks\n- [ ] Wizard shell with progress indicator\n- [ ] Step forms (Name, Species, Substrate, Env, Devices, Images)\n- [ ] Autosave drafts\n- [ ] Review screen",epic-c,grow-setup,wizard
"[Epic C] Story C2 — Advanced options","**Goal:** Power users can configure advanced options\n\n### Tasks\n- [ ] Collapsible Advanced panel\n- [ ] External data feeds & IoT config inputs",epic-c,grow-setup
"[Epic C] Story C3 — Goals","**Goal:** Users set goals for timeline, flushes, yield\n\n### Tasks\n- [ ] Timeline inputs\n- [ ] Flush count slider\n- [ ] Yield goal input",epic-c,grow-setup
"[Epic D] Story D1 — Initial AI Analysis","**Goal:** On submit, app triggers AI analysis and returns JSON plan\n\n### Tasks\n- [ ] /api/grows + /api/grows/[id]/analyze endpoints\n- [ ] Prompt composer (system + user)\n- [ ] Ajv schema validation\n- [ ] Persist prompts/responses\n- [ ] Success state with confetti",epic-d,ai,analysis
"[Epic E] Story E1 — View grow analysis","**Goal:** Users see analysis cards + version badge\n\n### Tasks\n- [ ] Summary, risks, recs, targets cards\n- [ ] Version badge UI",epic-e,grow-detail
"[Epic E] Story E2 — Add update + re-analysis","**Goal:** Users add photo/note updates and run re-analysis\n\n### Tasks\n- [ ] '+ Add Update' form\n- [ ] /api/grows/[id]/reanalyze endpoint\n- [ ] Timeline UI with versions/diffs",epic-e,grow-detail,reanalysis
"[Epic F] Story F1 — Shop recommendations","**Goal:** Show prioritized product suggestions based on analysis\n\n### Tasks\n- [ ] Product catalog (/data/products.json)\n- [ ] /api/shop/products + /recommendations endpoints\n- [ ] Rules matcher + LLM reranker\n- [ ] ProductCard UI\n- [ ] Feedback events (owned/hidden)",epic-f,shop,ai
"[Epic G] Story G1 — Portfolio overview","**Goal:** Users see highlights and KPIs across all grows\n\n### Tasks\n- [ ] Metric ingestion + aggregates\n- [ ] /api/insights/overview endpoint\n- [ ] Sparkline/scorecard UI",epic-g,insights
"[Epic G] Story G2 — Per-grow deep dive","**Goal:** Users get long-term analysis per grow\n\n### Tasks\n- [ ] /api/insights/grow/[id]\n- [ ] Stability gauges, anomaly list",epic-g,insights
"[Epic G] Story G3 — Cohorts & Experiments","**Goal:** Compare cohorts and run simple A/B experiments\n\n### Tasks\n- [ ] Cohort definition/filter engine\n- [ ] /api/insights/cohorts endpoint\n- [ ] Simple A/B test engine",epic-g,insights,analytics
"[Epic H] Story H1 — Data & Files","**Goal:** Foundational schema and storage\n\n### Tasks\n- [ ] Prisma schema + migrations\n- [ ] S3/Blob helper",epic-h,infra
"[Epic H] Story H2 — Validation, Errors, Observability","**Goal:** Consistent validation and error handling\n\n### Tasks\n- [ ] Central zod/ajv validators\n- [ ] Error boundaries + toasts\n- [ ] Logging with request IDs",epic-h,infra
"[Epic H] Story H3 — UX System","**Goal:** Design system foundation\n\n### Tasks\n- [ ] Tailwind + shadcn/ui baseline\n- [ ] framer-motion transitions\n- [ ] Accessibility pass",epic-h,infra,ux
"[Epic I] Story I1 — Azure Blob foundation","**Goal:** Stand up secure blob storage for prompts/responses/analyses.\n\n### Tasks\n- [ ] Provision storage account + resource group\n- [ ] Create containers: prompts-raw, responses-raw, analyses-valid, audit\n- [ ] App registration + role assignment; rotateable credentials\n- [ ] Env wiring: AZURE_STORAGE_ACCOUNT, AZURE_CLIENT_ID/SECRET/TENANT\n- [ ] SDK helper with retry/backoff, gzip, SHA256 hashing",epic-i,infra,storage,azure
"[Epic I] Story I2 — Write & index flow","**Goal:** On every analysis call, write blobs and DB index.\n\n### Tasks\n- [ ] Compose blob keys: user/{userId}/grow/{growId}/analysis/{analysisId}/{version}/{ts}-{kind}.json.gz\n- [ ] Write prompt & raw response to raw containers\n- [ ] Validate with Ajv; write validated JSON to analyses-valid\n- [ ] DB index row (URIs, sizes, hashes, version)\n- [ ] Unit tests (happy path + retry)",epic-i,analysis,storage
"[Epic I] Story I3 — Governance (PII, lifecycle, deletion)","**Goal:** Keep data compliant, lean, and erasable on request.\n\n### Tasks\n- [ ] PII scrubbing for prompts (strip emails/names if present)\n- [ ] Lifecycle rules: expire raw after 30/90d; keep analyses\n- [ ] User data export (ZIP of blobs by userId)\n- [ ] Right-to-delete: delete blobs + index rows\n- [ ] Immutability (audit container) optional toggle",epic-i,compliance,privacy,storage
"[Epic I] Story I4 — Vault Viewer (admin & per-user)","**Goal:** Minimal UI to browse/download prompts/responses.\n\n### Tasks\n- [ ] /app/admin/vault (admin) with filters (user, grow, date, version)\n- [ ] Per-grow tab: list versions with links\n- [ ] Generate time-limited SAS for download\n- [ ] Redaction view (show scrubbed JSON)\n- [ ] Empty/error states",epic-i,ui,admin,storage
"[Epic I] Story I5 — Observability & cost","**Goal:** Know health and spend; catch corruption.\n\n### Tasks\n- [ ] Append audit logs on every write/read (audit container)\n- [ ] Nightly integrity job (recompute SHA256 vs index)\n- [ ] Metrics: bytes written/day, egress, failures\n- [ ] Alerts on retry exhaustion/integrity mismatch\n- [ ] Cost dashboard + lifecycle tuning",epic-i,observability,cost,storage
